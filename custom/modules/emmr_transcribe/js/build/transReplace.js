!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.CKEditor5=t():(e.CKEditor5=e.CKEditor5||{},e.CKEditor5.transReplace=t())}(self,(()=>(()=>{var e={"ckeditor5/src/core.js":(e,t,n)=>{e.exports=n("dll-reference CKEditor5.dll")("./src/core.js")},"ckeditor5/src/ui.js":(e,t,n)=>{e.exports=n("dll-reference CKEditor5.dll")("./src/ui.js")},"ckeditor5/src/widget.js":(e,t,n)=>{e.exports=n("dll-reference CKEditor5.dll")("./src/widget.js")},"dll-reference CKEditor5.dll":e=>{"use strict";e.exports=CKEditor5.dll}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var s=t[r]={exports:{}};return e[r](s,s.exports,n),s.exports}n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var r={};return(()=>{"use strict";n.d(r,{default:()=>c});var e=n("ckeditor5/src/core.js"),t=n("ckeditor5/src/widget.js");class o extends e.Command{execute(){const{model:e}=this.editor,{selection:t}=e.document,n=t.getFirstRange().getItems().next().value.data;e.change((t=>{e.insertContent(function(e,t){let n=prompt("Enter transcription replacement text");if(n){const r=e.createElement("transReplace"),o=e.createElement("transReplaceSelect");e.appendText(" ",{},o);const s=e.createElement("transReplaceOld");e.appendText(t,{},s);const a=e.createElement("transReplaceText");return e.appendText(n,{},a),e.append(o,r),e.append(a,r),e.append(s,r),r}return}(t,n))}))}refresh(){const{model:e}=this.editor,{selection:t}=e.document,n=e.schema.findAllowedParent(t.getFirstPosition(),"transReplace");this.isEnabled=null!==n}}class s extends e.Plugin{static get requires(){return[t.Widget]}init(){this._defineSchema(),this._defineConverters(),this.editor.commands.add("insertTransReplace",new o(this.editor))}_defineSchema(){const e=this.editor.model.schema;e.register("transReplace",{isObject:!0,allowWhere:"$text"}),e.register("transReplaceSelect",{isLimit:!0,allowIn:"transReplace",allowContentOf:"$block"}),e.register("transReplaceOld",{isLimit:!0,allowIn:"transReplace",allowContentOf:"$block"}),e.register("transReplaceText",{isLimit:!0,allowIn:"transReplace",allowContentOf:"$block"}),e.addChildCheck(((e,t)=>{if(e.startsWith("trans")&&"transReplace"===t.name)return!1}))}_defineConverters(){const{conversion:e}=this.editor;e.for("upcast").elementToElement({model:"transReplace",view:{name:"trxnrep"}}),e.for("upcast").elementToElement({model:"transReplaceSelect",view:{name:"span",classes:["trxn-select","glyphicon","glyphicon-pencil"]}}),e.for("upcast").elementToElement({model:"transReplaceOld",view:{name:"s",classes:"trxn-replaced"}}),e.for("upcast").elementToElement({model:"transReplaceText",view:{name:"span",classes:"trxn-retext"}}),e.for("dataDowncast").elementToElement({model:"transReplace",view:{name:"trxnrep"}}),e.for("dataDowncast").elementToElement({model:"transReplaceSelect",view:{name:"span",classes:["trxn-select","glyphicon","glyphicon-pencil"]}}),e.for("dataDowncast").elementToElement({model:"transReplaceOld",view:{name:"s",classes:"trxn-replaced"}}),e.for("dataDowncast").elementToElement({model:"transReplaceText",view:{name:"span",classes:"trxn-retext"}}),e.for("editingDowncast").elementToElement({model:"transReplace",view:(e,{writer:n})=>{const r=n.createContainerElement("trxnrep",{});return(0,t.toWidget)(r,n,{label:"Transcription replacement widget"})}}),e.for("editingDowncast").elementToElement({model:"transReplaceSelect",view:(e,{writer:n})=>{const r=n.createContainerElement("span",{class:"trxn-select glyphicon glyphicon-pencil"});return(0,t.toWidget)(r,n)}}),e.for("editingDowncast").elementToElement({model:"transReplaceOld",view:(e,{writer:n})=>{const r=n.createContainerElement("s",{class:"trxn-replaced"});return(0,t.toWidget)(r,n)}}),e.for("editingDowncast").elementToElement({model:"transReplaceText",view:(e,{writer:n})=>{const r=n.createEditableElement("span",{class:"trxn-retext"});return(0,t.toWidgetEditable)(r,n)}})}}var a=n("ckeditor5/src/ui.js");class i extends e.Plugin{init(){const e=this.editor;e.ui.componentFactory.add("transReplace",(t=>{const n=e.commands.get("insertTransReplace"),r=new a.ButtonView(t);return r.set({label:e.t("Transcription Replace"),icon:'<?xml version="1.0" encoding="UTF-8" standalone="no"?>\n<svg\n   width="20"\n   height="20"\n   viewBox="0 0 20 20"\n   fill="none"\n   version="1.1"\n   id="svg4"\n   xmlns="http://www.w3.org/2000/svg"\n   xmlns:svg="http://www.w3.org/2000/svg">\n  <defs\n     id="defs8" />\n  <text\n     xml:space="preserve"\n     style="font-style:normal;font-weight:normal;font-size:13.3333px;line-height:0;font-family:sans-serif;fill:#ff0000;fill-opacity:1;stroke:none;stroke-width:0.73082"\n     x="2.2265627"\n     y="9.6725273"\n     id="text3311"><tspan\n       style="font-style:normal;font-variant:normal;font-weight:bold;font-stretch:normal;font-size:13.3333px;line-height:0.95;font-family:Gayathri;-inkscape-font-specification:\'Gayathri Bold\';fill:#ff0000;stroke-width:0.73082"\n       id="tspan85653"\n       x="2.2265627"\n       y="9.6725273">B</tspan><tspan\n       x="2.2265627"\n       y="19.005836"\n       style="font-style:normal;font-variant:normal;font-weight:bold;font-stretch:normal;font-size:13.3333px;line-height:0.45;font-family:Gayathri;-inkscape-font-specification:\'Gayathri Bold\';fill:#000000;stroke-width:0.73082"\n       id="tspan80751">  A</tspan><tspan\n       x="2.2265627"\n       y="25.005821"\n       style="font-style:normal;font-variant:normal;font-weight:bold;font-stretch:normal;font-size:13.3333px;line-height:0.45;font-family:Gayathri;-inkscape-font-specification:\'Gayathri Bold\';stroke-width:0.73082"\n       id="tspan80755" /><tspan\n       x="2.2265627"\n       y="31.005806"\n       style="font-style:normal;font-variant:normal;font-weight:bold;font-stretch:normal;font-size:13.3333px;line-height:0.45;font-family:Gayathri;-inkscape-font-specification:\'Gayathri Bold\';stroke-width:0.73082"\n       id="tspan41515" /><tspan\n       x="2.2265627"\n       y="36.136002"\n       style="font-style:normal;font-variant:normal;font-weight:bold;font-stretch:normal;font-size:13.3333px;line-height:0.45;font-family:Gayathri;-inkscape-font-specification:\'Gayathri Bold\';stroke-width:0.73082"\n       id="tspan40301" /></text>\n  <path\n     style="fill:none;stroke:#ff0000;stroke-width:1.22655px;stroke-linecap:round;stroke-linejoin:miter;stroke-opacity:1"\n     d="m 8.466946,15.606709 h 9.739771"\n     id="path91864" />\n</svg>\n',tooltip:!0}),r.bind("isOn","isEnabled").to(n,"value","isEnabled"),this.listenTo(r,"execute",(()=>e.execute("insertTransReplace"))),r}))}}class l extends e.Plugin{static get requires(){return[s,i]}}const c={TransReplace:l}})(),r=r.default})()));