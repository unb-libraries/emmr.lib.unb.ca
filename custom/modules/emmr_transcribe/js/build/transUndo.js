!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.CKEditor5=e():(t.CKEditor5=t.CKEditor5||{},t.CKEditor5.transUndo=e())}(self,(()=>(()=>{var t={"ckeditor5/src/core.js":(t,e,n)=>{t.exports=n("dll-reference CKEditor5.dll")("./src/core.js")},"ckeditor5/src/ui.js":(t,e,n)=>{t.exports=n("dll-reference CKEditor5.dll")("./src/ui.js")},"ckeditor5/src/widget.js":(t,e,n)=>{t.exports=n("dll-reference CKEditor5.dll")("./src/widget.js")},"dll-reference CKEditor5.dll":t=>{"use strict";t.exports=CKEditor5.dll}},e={};function n(o){var i=e[o];if(void 0!==i)return i.exports;var r=e[o]={exports:{}};return t[o](r,r.exports,n),r.exports}n.d=(t,e)=>{for(var o in e)n.o(e,o)&&!n.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:e[o]})},n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);var o={};return(()=>{"use strict";n.d(o,{default:()=>d});var t=n("ckeditor5/src/core.js"),e=n("ckeditor5/src/widget.js");class i extends t.Command{execute(){const{model:t}=this.editor,{selection:e}=t.document,n=e.getSelectedElement();t.change((e=>{t.insertContent(function(t,e){const n=JSON.stringify(e,void 0,2);try{alert(n)}catch{}if(null!=n)return}(0,n))}))}refresh(){const{model:t}=this.editor,{selection:e}=t.document,n=t.schema.findAllowedParent(e.getFirstPosition(),"transUndo");this.isEnabled=null!==n}}class r extends t.Plugin{static get requires(){return[e.Widget]}init(){this._defineSchema(),this._defineConverters(),this.editor.commands.add("insertTransUndo",new i(this.editor))}_defineSchema(){this.editor.model.schema.register("transUndo",{isObject:!0,allowWhere:"$text"})}_defineConverters(){const{conversion:t}=this.editor;t.for("upcast").elementToElement({model:"transUndo",view:{name:"trxnun"}}),t.for("dataDowncast").elementToElement({model:"transUndo",view:{name:"trxnun"}}),t.for("editingDowncast").elementToElement({model:"transUndo",view:(t,{writer:n})=>{const o=n.createContainerElement("trxnun",{});return(0,e.toWidget)(o,n,{label:"Transcription undo widget"})}})}}var s=n("ckeditor5/src/ui.js");class a extends t.Plugin{init(){const t=this.editor;t.ui.componentFactory.add("transUndo",(e=>{const n=t.commands.get("insertTransUndo"),o=new s.ButtonView(e);return o.set({label:t.t("Transcription Undo"),icon:'<?xml version="1.0" encoding="UTF-8" standalone="no"?>\n<svg\n   width="20"\n   height="20"\n   viewBox="0 0 20 20"\n   fill="none"\n   version="1.1"\n   id="svg4"\n   xmlns="http://www.w3.org/2000/svg"\n   xmlns:svg="http://www.w3.org/2000/svg">\n  <defs\n     id="defs8" />\n  <text\n     xml:space="preserve"\n     style="font-style:normal;font-weight:normal;font-size:13.3333px;line-height:0;font-family:sans-serif;fill:#ff0000;fill-opacity:1;stroke:none;stroke-width:0.73082"\n     x="2.2265627"\n     y="9.6725273"\n     id="text3311"><tspan\n       style="font-style:normal;font-variant:normal;font-weight:bold;font-stretch:normal;font-size:13.3333px;line-height:0.95;font-family:Gayathri;-inkscape-font-specification:\'Gayathri Bold\';fill:#ff0000;stroke-width:0.73082"\n       id="tspan85653"\n       x="2.2265627"\n       y="9.6725273">B</tspan><tspan\n       x="2.2265627"\n       y="19.005836"\n       style="font-style:normal;font-variant:normal;font-weight:bold;font-stretch:normal;font-size:13.3333px;line-height:0.45;font-family:Gayathri;-inkscape-font-specification:\'Gayathri Bold\';fill:#000000;stroke-width:0.73082"\n       id="tspan80751">  A</tspan><tspan\n       x="2.2265627"\n       y="25.005821"\n       style="font-style:normal;font-variant:normal;font-weight:bold;font-stretch:normal;font-size:13.3333px;line-height:0.45;font-family:Gayathri;-inkscape-font-specification:\'Gayathri Bold\';stroke-width:0.73082"\n       id="tspan80755" /><tspan\n       x="2.2265627"\n       y="31.005806"\n       style="font-style:normal;font-variant:normal;font-weight:bold;font-stretch:normal;font-size:13.3333px;line-height:0.45;font-family:Gayathri;-inkscape-font-specification:\'Gayathri Bold\';stroke-width:0.73082"\n       id="tspan41515" /><tspan\n       x="2.2265627"\n       y="36.136002"\n       style="font-style:normal;font-variant:normal;font-weight:bold;font-stretch:normal;font-size:13.3333px;line-height:0.45;font-family:Gayathri;-inkscape-font-specification:\'Gayathri Bold\';stroke-width:0.73082"\n       id="tspan40301" /></text>\n  <path\n     style="fill:none;stroke:#ff0000;stroke-width:1.22655px;stroke-linecap:round;stroke-linejoin:miter;stroke-opacity:1"\n     d="m 8.466946,15.606709 h 9.739771"\n     id="path91864" />\n</svg>\n',tooltip:!0}),o.bind("isOn","isEnabled").to(n,"value","isEnabled"),this.listenTo(o,"execute",(()=>t.execute("insertTransUndo"))),o}))}}class l extends t.Plugin{static get requires(){return[r,a]}}const d={TransUndo:l}})(),o=o.default})()));