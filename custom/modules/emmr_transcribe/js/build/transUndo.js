!function(e,n){"object"==typeof exports&&"object"==typeof module?module.exports=n():"function"==typeof define&&define.amd?define([],n):"object"==typeof exports?exports.CKEditor5=n():(e.CKEditor5=e.CKEditor5||{},e.CKEditor5.transUndo=n())}(self,(()=>(()=>{var e={"ckeditor5/src/core.js":(e,n,t)=>{e.exports=t("dll-reference CKEditor5.dll")("./src/core.js")},"ckeditor5/src/ui.js":(e,n,t)=>{e.exports=t("dll-reference CKEditor5.dll")("./src/ui.js")},"ckeditor5/src/widget.js":(e,n,t)=>{e.exports=t("dll-reference CKEditor5.dll")("./src/widget.js")},"dll-reference CKEditor5.dll":e=>{"use strict";e.exports=CKEditor5.dll}},n={};function t(o){var i=n[o];if(void 0!==i)return i.exports;var s=n[o]={exports:{}};return e[o](s,s.exports,t),s.exports}t.d=(e,n)=>{for(var o in n)t.o(n,o)&&!t.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:n[o]})},t.o=(e,n)=>Object.prototype.hasOwnProperty.call(e,n);var o={};return(()=>{"use strict";t.d(o,{default:()=>c});var e=t("ckeditor5/src/core.js"),n=t("ckeditor5/src/widget.js");class i extends e.Command{execute(){const{model:e}=this.editor,{selection:n}=e.document,t=n.getSelectedElement();e.change((n=>{e.insertContent(function(e,n){if(null===n)return;{const t=n.name,o=e.createElement("span");if("transReplace"===t){const t=JSON.stringify(n.getChild(2).getChild(0).data).replace(/["]+/g,"");return e.appendText(t,{},o),o}return o}}(n,t))}))}refresh(){const{model:e}=this.editor,{selection:n}=e.document,t=e.schema.findAllowedParent(n.getFirstPosition(),"transUndo");this.isEnabled=null!==t}}class s extends e.Plugin{static get requires(){return[n.Widget]}init(){this._defineSchema(),this._defineConverters(),this.editor.commands.add("insertTransUndo",new i(this.editor))}_defineSchema(){this.editor.model.schema.register("transUndo",{isObject:!0,allowWhere:"$text",allowContentOf:"$block"})}_defineConverters(){const{conversion:e}=this.editor;e.for("upcast").elementToElement({model:"transUndo",view:{name:"trxnun"}}),e.for("dataDowncast").elementToElement({model:"transUndo",view:{name:"trxnun"}}),e.for("editingDowncast").elementToElement({model:"transUndo",view:(e,{writer:t})=>{const o=t.createEditableElement("trxnun",{});return(0,n.toWidgetEditable)(o,t,{label:"Transcription undo widget"})}})}}var r=t("ckeditor5/src/ui.js");class d extends e.Plugin{init(){const e=this.editor;e.ui.componentFactory.add("transUndo",(n=>{const t=e.commands.get("insertTransUndo"),o=new r.ButtonView(n);return o.set({label:e.t("Transcription Undo"),icon:'<?xml version="1.0" encoding="UTF-8" standalone="no"?>\n<svg\n   width="20"\n   height="20"\n   viewBox="0 0 20 20"\n   fill="none"\n   version="1.1"\n   id="svg4"\n   sodipodi:docname="transUndo.svg"\n   inkscape:version="1.1.2 (0a00cf5339, 2022-02-04)"\n   xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape"\n   xmlns:sodipodi="http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd"\n   xmlns="http://www.w3.org/2000/svg"\n   xmlns:svg="http://www.w3.org/2000/svg">\n  <sodipodi:namedview\n     id="namedview11"\n     pagecolor="#ffffff"\n     bordercolor="#666666"\n     borderopacity="1.0"\n     inkscape:pageshadow="2"\n     inkscape:pageopacity="0.0"\n     inkscape:pagecheckerboard="0"\n     showgrid="false"\n     inkscape:zoom="4.39375"\n     inkscape:cx="-31.749644"\n     inkscape:cy="18.435277"\n     inkscape:window-width="1360"\n     inkscape:window-height="731"\n     inkscape:window-x="0"\n     inkscape:window-y="0"\n     inkscape:window-maximized="1"\n     inkscape:current-layer="svg4" />\n  <defs\n     id="defs8" />\n  <text\n     xml:space="preserve"\n     style="font-style:normal;font-weight:normal;font-size:13.3333px;line-height:0;font-family:sans-serif;letter-spacing:0px;fill:#ff0000;fill-opacity:1;stroke:none;stroke-width:0.73082"\n     x="4.384048"\n     y="17.484917"\n     id="text3311"><tspan\n       style="font-style:normal;font-variant:normal;font-weight:bold;font-stretch:normal;font-size:13.3333px;line-height:0.95;font-family:Gayathri;-inkscape-font-specification:\'Gayathri Bold\';fill:#ff0000;stroke-width:0.73082"\n       id="tspan85653"\n       x="4.384048"\n       y="17.484917">B</tspan><tspan\n       x="4.384048"\n       y="26.818226"\n       style="font-style:normal;font-variant:normal;font-weight:bold;font-stretch:normal;font-size:13.3333px;line-height:0.45;font-family:Gayathri;-inkscape-font-specification:\'Gayathri Bold\';fill:#000000;stroke-width:0.73082"\n       id="tspan80751" /></text>\n  <path\n     d="M 13.317675,11.167705 C 18.394896,5.875477 12.23986,1.4993446 8.5059692,5.0006207 L 9.6477297,6.090484 H 5.4282193 V 1.9446506 L 6.4624771,2.9775177 C 13.317675,-3.1404489 21.063484,6.2447885 13.317675,11.167705 Z"\n     id="path2-3"\n     sodipodi:nodetypes="ccccccc"\n     style="fill:#000000;stroke:none;stroke-width:0.463377" />\n</svg>\n',tooltip:!0}),o.bind("isOn","isEnabled").to(t,"value","isEnabled"),this.listenTo(o,"execute",(()=>e.execute("insertTransUndo"))),o}))}}class a extends e.Plugin{static get requires(){return[s,d]}}const c={TransUndo:a}})(),o=o.default})()));